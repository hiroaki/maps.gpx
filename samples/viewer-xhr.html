<!DOCTYPE html>
<html lang="ja"><head><title>GPX Casual Viewer v3</title>
<style>
div.map { width:640px; height:320px; }
img.info-window { max-width: 200px; max-height: 200px; }
</style>
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="../gpx-casual-viewer.js"></script>
<script src="../plugin-url.js"></script>
<script src="../extlib/exif.js"></script>
<script src="../plugin-exif.js"></script>
<script>
google.maps.event.addDomListener(window, 'load', function() {

  var ids   = ['R1', 'sosui'];
  var apps  = [];
  for ( var i = 0, l = ids.length; i < l; ++i ) { 
    apps[i] = new GPXCasualViewer(ids[i]);
    var url = document.getElementById(ids[i]).getAttribute('data-url');
    apps[i].promiseToAddGPX(url, url).then((function (key){
      this.fitBounds(key);
      this.showOverlayWpts(key);
      this.showOverlayTrks(key);
    }).bind(apps[i]));
  }

  var id  = 'exif';
  var url = document.getElementById(id).getAttribute('data-url');
  var key = url;
  new GPXCasualViewer(id).use('EXIF').promiseToReadEXIF(key, url);

});
</script>
</head><body>

  <h1>一般国道１号（日本橋－梅田新道）トレース</h1>
  <div class="map" id="R1" data-url="R1.gpx"></div>

  <h1>琵琶湖疏水ウォーキング</h1>
  <div class="map" id="sosui" data-url="Biwakososui.gpx"></div>

  <h1>八ヶ岳</h1>
  <div class="map" id="exif" data-url="Yatsugatake.jpg"></div>

</body></html>
